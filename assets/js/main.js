"use strict";document.addEventListener("DOMContentLoaded",(function(){try{var e=function(e){e.classList.remove("modal--active"),r.style.overflowY="",function(e){e.removeEventListener("keydown",t),e.removeEventListener("click",n)}(e)},t=function(t){var n=t.currentTarget;"Escape"===t.key&&e(n)},n=function(t){t.currentTarget.querySelector(".modal__content").contains(t.target)||e(t.currentTarget)},i=document.querySelectorAll("[data-modal]"),r=document.querySelector("body"),o=document.querySelectorAll("[data-modal-close]");i.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var i=e.target.closest("[data-modal]").getAttribute("data-modal"),o=document.getElementById(i);o&&(o.classList.add("modal--active"),r.style.overflow="hidden",function(e){e.addEventListener("keydown",t),e.addEventListener("click",n)}(o))}))})),o.forEach((function(t){t.addEventListener("click",(function(t){var n=t.target.closest(".modal");n&&e(n)}))}))}catch(e){}if(document.querySelector(".main-swiper"))new Swiper(".main-swiper",{direction:"horizontal",effect:"fade",loop:!0,speed:1e3,autoplay:{delay:2500,disableOnInteraction:!1},slidesPerView:1,navigation:{nextEl:".swiper-button-next-main",prevEl:".swiper-button-prev-main"}});if(document.querySelector(".swiper-products"))new Swiper(".swiper-products",{direction:"horizontal",loop:!0,slidesPerView:3,spaceBetween:20,pagination:{el:".swiper-pagination-products",type:"fraction"},breakpoints:{320:{slidesPerView:1.2,spaceBetween:8},640:{slidesPerView:3,spaceBetween:20}},navigation:{nextEl:".swiper-button-next-products",prevEl:".swiper-button-prev-products"}});if(document.querySelector(".swiper-history"))new Swiper(".swiper-history",{direction:"horizontal",loop:!1,slidesPerView:5,spaceBetween:45,centeredSlides:!1,breakpoints:{320:{slidesPerView:2,spaceBetween:17},640:{slidesPerView:5,spaceBetween:45}},navigation:{nextEl:".swiper-button-next-history",prevEl:".swiper-button-prev-history"}});if(document.querySelector(".swiper-diploms"))new Swiper(".swiper-diploms",{direction:"horizontal",loop:!1,slidesPerView:4,spaceBetween:20,centeredSlides:!1,breakpoints:{320:{slidesPerView:1.5,spaceBetween:9},640:{slidesPerView:4,spaceBetween:20}},navigation:{nextEl:".swiper-button-next-diploms",prevEl:".swiper-button-prev-diploms"}});if(document.querySelector(".swiper-addons"))new Swiper(".swiper-addons",{direction:"horizontal",loop:!0,slidesPerView:4,spaceBetween:20,breakpoints:{320:{slidesPerView:1.2,spaceBetween:8},640:{slidesPerView:4,spaceBetween:20}},navigation:{nextEl:".swiper-button-next-addons",prevEl:".swiper-button-prev-addons"}});function s(e,t,n){var i=t,r=0,o=Math.round(1500/(e/n)),s=setInterval((function(){(r+=n)==e&&clearInterval(s),i.innerHTML=r}),o)}document.getElementById("distr")&&function(e,t){function n(){1-e.getBoundingClientRect().bottom/(window.innerHeight+e.offsetHeight)>0&&(window.removeEventListener("resize",i),window.removeEventListener("scroll",i),t())}function i(e){n()}window.addEventListener("resize",i),window.addEventListener("scroll",i),n()}(document.getElementById("distr"),(function(){s(120,document.querySelector("#num1"),10),s(29,document.querySelector("#num2"),1),s(35e3,document.querySelector("#num3"),1e3)}));var c=document.querySelector("#burger"),d=document.querySelector("#close"),a=document.querySelector(".header-burger__menu");document.querySelector("body");c.addEventListener("click",(function(){a.classList.toggle("active")})),d.addEventListener("click",(function(){a.classList.toggle("active")})),document.querySelectorAll("[data-fancybox]")&&Fancybox.bind("[data-fancybox]",{})}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiYnRuIiwiZSIsInByZXZlbnREZWZhdWx0IiwiYm9keSIsInN0eWxlIiwibW9kYWxJZCIsInRhcmdldCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJxdWVyeVNlbGVjdG9yIiwib25Nb2RhbEtleURvd24iLCJidG5DbG9zZSIsInJlbW92ZU1vZGFsRXZlbnRMaXN0ZW5lcnMiLCJnZXRFbGVtZW50QnlJZCIsIm92ZXJmbG93IiwiYWRkTW9kYWxFdmVudExpc3RlbmVycyIsImtleSIsImNsb3NlTW9kYWwiLCJtb2RhbCIsImNsb3NlIiwiY29udGFpbnMiLCJidG5zIiwiZm9yRWFjaCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZXN0IiwiZ2V0QXR0cmlidXRlIiwib25Nb2RhbENsaWNrIiwiY2xhc3NMaXN0IiwiYWRkIiwiY3VycmVudFRhcmdldCIsIm1haW5Td2lwZXIiLCJlZmZlY3QiLCJkaXJlY3Rpb24iLCJTd2lwZXIiLCJzcGVlZCIsImF1dG9wbGF5IiwiZGVsYXkiLCJkaXNhYmxlT25JbnRlcmFjdGlvbiIsInNsaWRlc1BlclZpZXciLCJuYXZpZ2F0aW9uIiwicHJldkVsIiwibmV4dEVsIiwibG9vcCIsInNwYWNlQmV0d2VlbiIsInBhZ2luYXRpb24iLCJlbCIsInR5cGUiLCJicmVha3BvaW50cyIsImNlbnRlcmVkU2xpZGVzIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm4iLCJjbGVhckludGVydmFsIiwic3RlcCIsImlubmVySFRNTCIsIm51bSIsIm9uU2Nyb2xsZWRUbyIsInQiLCJvdXROdW0iLCJlUiIsImJvdHRvbSIsImNhbGxiYWNrIiwid2luZG93Iiwibm9ybU9mZnNldCIsImlubmVySGVpZ2h0Iiwib25VcGRhdGUiLCJvZmZzZXRIZWlnaHQiLCJ0YXNrVXBkYXRlIiwiYnVyZ2VyQnRuIiwiYnVyZ2VyTWVudSIsInRvZ2dsZSIsImJ1cmdlckNsb3Nl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QUFBLHdCQUdBOEQsU0FBWXZFLGNBQWlCLFFBRTVCb0UsRUFGRHBFLGlCQUFBLFNBQUEsV0FGSXFFLEVBQVcxQyxVQUFVMkMsT0FBTyxTQU1oQyxJQUNJRSxFQUFBQSxpQkFBYyxTQUFtQixXQUM3QkgsRUFBQTFDLFVBQUEyQyxPQUFBLFNBRDZCLElBelB6Q3ZFLFNBQUFTLGlCQUFBLG9CQXlQUWdFLFNBQVNDLEtBQUssa0JBQW1CLEdBS3hDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2RhbF0nKTtcclxuICAgICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4gICAgICAgIGNvbnN0IGJ0bkNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kYWwtY2xvc2VdJyk7XHJcblxyXG4gICAgICAgIGJ0bnMuZm9yRWFjaChidG4gPT4ge1xyXG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1tb2RhbF0nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kYWwnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobW9kYWxJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKCdtb2RhbC0tYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZE1vZGFsRXZlbnRMaXN0ZW5lcnMobW9kYWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYnRuQ2xvc2UuZm9yRWFjaChjbG9zZSA9PiB7XHJcbiAgICAgICAgICAgIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5tb2RhbCcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRNb2RhbEV2ZW50TGlzdGVuZXJzKG1vZGFsKSB7XHJcbiAgICAgICAgICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbk1vZGFsS2V5RG93bik7XHJcbiAgICAgICAgICAgIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Nb2RhbENsaWNrKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGFsRXZlbnRMaXN0ZW5lcnMobW9kYWwpIHtcclxuICAgICAgICAgICAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uTW9kYWxLZXlEb3duKTtcclxuICAgICAgICAgICAgbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbk1vZGFsQ2xpY2spO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2xvc2VNb2RhbChtb2RhbCkge1xyXG4gICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbC0tYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJyc7XHJcbiAgICAgICAgICAgIHJlbW92ZU1vZGFsRXZlbnRMaXN0ZW5lcnMobW9kYWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gb25Nb2RhbEtleURvd24oZSkge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9IGUuY3VycmVudFRhcmdldDtcclxuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICAgICAgICAgICAgY2xvc2VNb2RhbChtb2RhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uTW9kYWxDbGljayhlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsQ29udGVudCA9IGUuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRlbnQnKTtcclxuICAgICAgICAgICAgaWYgKCFtb2RhbENvbnRlbnQuY29udGFpbnMoZS50YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICBjbG9zZU1vZGFsKGUuY3VycmVudFRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcblxyXG4gICAgfVxyXG4gICAgbGV0IG1haW5Td2lwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1zd2lwZXInKTtcclxuICAgIGlmIChtYWluU3dpcGVyKSB7XHJcbiAgICAgICAgY29uc3Qgc3dpcGVyTWFpbiA9IG5ldyBTd2lwZXIoJy5tYWluLXN3aXBlcicsIHtcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgICAgICAgIGVmZmVjdDogXCJmYWRlXCIsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIHNwZWVkOiAxMDAwLFxyXG4gICAgICAgICAgICBhdXRvcGxheToge1xyXG4gICAgICAgICAgICAgICAgZGVsYXk6IDI1MDAsXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlT25JbnRlcmFjdGlvbjogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQtbWFpbicsXHJcbiAgICAgICAgICAgICAgICBwcmV2RWw6ICcuc3dpcGVyLWJ1dHRvbi1wcmV2LW1haW4nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbGV0IHByb2R1Y3RzU3dpcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1wcm9kdWN0cycpO1xyXG4gICAgaWYgKHByb2R1Y3RzU3dpcGVyKSB7XHJcbiAgICAgICAgY29uc3Qgc3dpcGVyUHJvZHVjdHMgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLXByb2R1Y3RzJywge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMyxcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgZWw6ICcuc3dpcGVyLXBhZ2luYXRpb24tcHJvZHVjdHMnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZyYWN0aW9uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAgICAgMzIwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMS4yLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogOCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICA2NDA6IHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgbmV4dEVsOiAnLnN3aXBlci1idXR0b24tbmV4dC1wcm9kdWN0cycsXHJcbiAgICAgICAgICAgICAgICBwcmV2RWw6ICcuc3dpcGVyLWJ1dHRvbi1wcmV2LXByb2R1Y3RzJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxldCBoaXN0b3J5U3dpcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1oaXN0b3J5Jyk7XHJcbiAgICBpZiAoaGlzdG9yeVN3aXBlcikge1xyXG4gICAgICAgIGNvbnN0IHN3aXBlckhpc3RvcnkgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLWhpc3RvcnknLCB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNSxcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiA0NSxcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAgICAgMzIwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcclxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDE3LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIDY0MDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiA0NSxcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBuZXh0RWw6ICcuc3dpcGVyLWJ1dHRvbi1uZXh0LWhpc3RvcnknLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsOiAnLnN3aXBlci1idXR0b24tcHJldi1oaXN0b3J5JyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxldCBkaXBsb21hc1N3aXBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItZGlwbG9tcycpO1xyXG4gICAgaWYgKGRpcGxvbWFzU3dpcGVyKSB7XHJcbiAgICAgICAgY29uc3Qgc3dpcGVyRGlwbG9tYXMgPSBuZXcgU3dpcGVyKCcuc3dpcGVyLWRpcGxvbXMnLCB7XHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxyXG4gICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICAgICAgICAgICAgY2VudGVyZWRTbGlkZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICBicmVha3BvaW50czoge1xyXG4gICAgICAgICAgICAgICAgMzIwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMS41LFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogOSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICA2NDA6IHtcclxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjAsXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICBuZXh0RWw6ICcuc3dpcGVyLWJ1dHRvbi1uZXh0LWRpcGxvbXMnLFxyXG4gICAgICAgICAgICAgICAgcHJldkVsOiAnLnN3aXBlci1idXR0b24tcHJldi1kaXBsb21zJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgYWRkb25zU3dpcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1hZGRvbnMnKTtcclxuICAgIGlmIChhZGRvbnNTd2lwZXIpIHtcclxuICAgICAgICBjb25zdCBzd2lwZXJQcm9kdWN0cyA9IG5ldyBTd2lwZXIoJy5zd2lwZXItYWRkb25zJywge1xyXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcclxuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMCxcclxuICAgICAgICAgICAgYnJlYWtwb2ludHM6IHtcclxuICAgICAgICAgICAgICAgIDMyMDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEuMixcclxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDgsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgNjQwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNCxcclxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDIwLFxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICAgICAgICAgIG5leHRFbDogJy5zd2lwZXItYnV0dG9uLW5leHQtYWRkb25zJyxcclxuICAgICAgICAgICAgICAgIHByZXZFbDogJy5zd2lwZXItYnV0dG9uLXByZXYtYWRkb25zJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29uc3QgdGltZSA9IDE1MDA7XHJcblxyXG4gICAgZnVuY3Rpb24gb3V0TnVtKG51bSwgZWxlbSwgc3RlcCkge1xyXG4gICAgICAgIGxldCBlID0gZWxlbTtcclxuICAgICAgICBsZXQgbiA9IDA7XHJcbiAgICAgICAgbGV0IHQgPSBNYXRoLnJvdW5kKHRpbWUgLyAobnVtIC8gc3RlcCkpO1xyXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgbiA9IG4gKyBzdGVwO1xyXG4gICAgICAgICAgICBpZiAobiA9PSBudW0pIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUuaW5uZXJIVE1MID0gbjtcclxuICAgICAgICB9LCB0KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblNjcm9sbGVkVG8oZWwsIGNhbGxiYWNrKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1PZmZzZXQoKSB7XHJcbiAgICAgICAgICAgIHZhciBlUiA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gMS4wIC0gZVIuYm90dG9tIC8gKHdpbmRvdy5pbm5lckhlaWdodCArIGVsLm9mZnNldEhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHRhc2tVcGRhdGUoKSB7XHJcbiAgICAgICAgICAgIGlmIChub3JtT2Zmc2V0KCkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25VcGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uVXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uVXBkYXRlKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRhc2tVcGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g0JfQsNC/0YPRgdC6INC30LDQtNCw0YfQuFxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvblVwZGF0ZSk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uVXBkYXRlKTtcclxuICAgICAgICB0YXNrVXBkYXRlKCk7XHJcbiAgICB9XHJcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3RyJykpIHtcclxuICAgICAgICBvblNjcm9sbGVkVG8oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3RyJyksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb3V0TnVtKDEyMCwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNudW0xXCIpLCAxMCk7XHJcbiAgICAgICAgICAgIG91dE51bSgyOSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNudW0yXCIpLCAxKTtcclxuICAgICAgICAgICAgb3V0TnVtKDM1MDAwLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI251bTNcIiksIDEwMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBsZXQgYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J1cmdlcicpO1xyXG4gICAgLy8gbGV0IGJ1cmdlck9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3BlbicpO1xyXG4gICAgbGV0IGJ1cmdlckNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nsb3NlJyk7XHJcbiAgICBsZXQgYnVyZ2VyTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItYnVyZ2VyX19tZW51Jyk7XHJcbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxuXHJcbiAgICBidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYnVyZ2VyTWVudS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKTtcclxuICAgIH0pXHJcbiAgICBidXJnZXJDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBidXJnZXJNZW51LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZmFuY3lib3hdJykpIHtcclxuICAgICAgICBGYW5jeWJveC5iaW5kKFwiW2RhdGEtZmFuY3lib3hdXCIsIHtcclxuICAgICAgICAgICAgLy8gWW91ciBjdXN0b20gb3B0aW9uc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufSlcclxuXHJcbiJdfQ==
